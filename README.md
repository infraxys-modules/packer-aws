# Infraxys module - packer-aws

This module helps with the creation of AWS AMIs.  
Use "Packer AWS build environment" as the root of the tree to manage configuration. This packet also contains a shared file that can be included in your own files to run Packer. 

![Packer tree](resources/packer-tree.png?raw=true "Packer tree")


## Instructions

## Environment variables

| Variable name | Required | Description |
|---------------|----------|-------------|
| PACKER_VERSION | no | Default 1.5.1. The version of Packer. This will be installed if it's not available on the provisioning server |
| vpc_id | yes | The ID of the VPC to run the builder |
| security_group_name | yes | The name of the security group to run the builder |
| subnet_name | yes | The name of the subnet to run the builder |
| aws_region | yes | The AWS region to run the builder |


### Running Packer

Drag packer "Packer AWS AMI", that is provided as part of this module, onto a container.  

Don't specify a base AMI if this instance should use the AMI generated by a parent Packer instance in the instance tree.   

Generate the scripts and execute the `Create AMI`-action.  
